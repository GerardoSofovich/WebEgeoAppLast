<!doctype html>
<html>
<head>

	<title>egeo</title>
	<link href="bootstrap/bootstrap.css" rel="stylesheet"/>
	<link href="bootstrap/styleSheet.css" rel="stylesheet"/>
	<link href="uiBootstrapCustom/ui-bootstrap-custom-2.5.0-csp" rel="stylesheet"/>

	<script src="scripts/jquery-3.0.0.slim.js"></script>
	<script src="scripts/angular.js"></script>
	<script src="bootstrap/bootstrap.bundle.js"></script>
	<script src="uiBootstrapCustom/ui-bootstrap-custom-2.5.0.min.js"></script>
	<script src="scripts/viajesScript.js"></script>
	

	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />


</head>
<body ng-app="myApp">
	<div class="container-fluid" ng-controller="appCtrl" id="htmlComplete">
		 	<nav class="navbar navbar-expand-lg navbar-light" id="1">
  				<a class="navbar-brand " href="#">
    					<img src="shortcutFavicon.ico" width="30" height="30" alt=""><span id="Ename">geo</span>
  				</a>
  				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
   				 <span class="navbar-toggler-icon"></span>
  				</button>
  				<div class="collapse navbar-collapse" id="navbarNav">
    					<ul class="navbar-nav">
      						<li class="nav-item">
        						<button class="btn" type="button" ng-click="Homear()">Home</button>
      						</li>
      						<li class="nav-item">
        						<button class="btn" type="button" ng-click="ListarViajes()">Viajes</button>
      						</li>
      						<li class="nav-item">
        						<button class="btn" type="button" ng-click="ListarChoferes()">Choferes</button>
      						</li>
      						<li class="nav-item">
        						<button class="btn" type="button" ng-click="Contactear()">Contacto</button>
      						</li>
    					</ul>
			  	</div>
			</nav>
  			<div class="container-fluid" id="home" ng-show="AccionABM=='H'">
				<div class="container-fluid">
					<div class="jumbotron jumbotron-fliud">
			  			<h1 class="display-4">Bienvenido a Egeo!</h1>
			  			<h3 class="lead">Si tenes una carga que queres mover o tenes un transporte,encontra el mejor equipo de trabajo para transformar tus necesidades en oportunidades.</h3>
			  			<hr class="my-4">
			  			<p><a href="https://www.facebook.com/">La pagina de  facebook de egeo</a></p>
					</div>
				</div>
				<div class="bd-example" >
				  <div id="carouselCaptions1" class="carousel slide" data-ride="carousel">
				    <ol class="carousel-indicators">
				      <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
				      <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
				      <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
				    </ol>
				    <div class="carousel-inner">
				      <div class="carousel-item active">
		     			   <img src="imagenes/camionEgeo.jpg" class="d-block w-100" alt="...">
		        		<div class="carousel-caption d-none d-md-block">
        					<button class="btn" type="button" ng-click="ListarViajes()">Viajes</button>
		        		</div>
		      		     </div>
		 		     <div class="carousel-item">
				        <img src="imagenes/egeoLogo.jpg" class="d-block w-100" alt="...">
				        <div class="carousel-caption d-none d-md-block">
						<button class="btn" type="button" ng-click="Contactear()">Contacto</button>
		
				        </div>
				     </div>
				     <div class="carousel-item">
				        <img src="imagenes/choferes.jpg" class="d-block w-100" alt="...">
				        <div class="carousel-caption d-none d-md-block">
						<button class="btn" type="button" ng-click="ListarChoferes()">Choferes</button>
				        </div>
				      </div>
	
			          </div>
				    <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
				      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
				      <span class="sr-only">Previous</span>
				    </a>
				    <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
				      <span class="carousel-control-next-icon" aria-hidden="true"></span>
				      <span class="sr-only">Next</span>
				    </a>
			  	 </div>
				</div>
	
			</div>
			<div class="container-fluid" id="viajesGrilla" ng-show="AccionABM=='V'">
			        <div class="jumbotron jumbotron-fluid">
			            <div class="container">
			                <h1 class="display-4">Grilla de viajes</h1>
			                <hr />
			            </div>
			        </div>	
				<div class="comboChoferes">
					<div class="combo-head">
						<span class="spanChoferes">Elige algun Chofer: </span>
						<select name="select" ng-model="buscarChofer">
						  <option value="" selected></option> 
						  <option ng-repeat="c in choferes" value={{c.id}}>{{c.apellido}} {{c.nombre}}</option>
						</select>
					</div>
				</div>
				<div class="input-group">
				  <div class="input-group-prepend">
				    <span class="input-group-text">Fecha de Viaje</span>
				  </div>
				  <input type="text" aria-label="Destino" ng-pattern="^(?:3[01]|[12][0-9]|0[1-9])([\-/.])(0[1-9]|1[1-2])\1\d{4}$" class="form-control" ng-model="buscarFecha" no-validate/>
				</div>
				<div id="tablaUndPaginador">
			       	 	<table class="table table-striped">
			          	  <thead>
			           	     <tr>
			                  	  <th scope="col">#</th>
			                  	  <th scope="col">Fecha Viaje</th>
			                	    <th scope="col">Nombre Chofer</th>
						    <th scope="col">Apellido Chofer</th>
			                	    <th scope="col">Peso (kg)</th>
			        	            <th scope="col">Origen</th>
			        	            <th scope="col">Destino</th>
			        	            <th scope="col">Descripcion</th>
			        	            <th scope="col">Precio($)</th>
			        	            <th scope="col">Vehiculo</th>
			        	            <th scope="col">Acompaniante</th>
			        	            <th scope="col">Opcion</th>
			        	        </tr>
        			 	   </thead>
			         	   <tbody ng-repeat="v in viajes|filter:buscarFecha ">
			               	 	<tr>
			                	    <th scope="row">{{v.id}}</th>
			                	    <td>{{v.fecha|date:"dd/mm/yyyy"}}</td>
			                	    <td>{{nombreFunc(v.codChof)}}</td>
			                	    <td>{{apellidoFunc(v.codChof)}}</td>
			                	    <td>{{v.peso}}</td>
			                	    <td>{{v.origen}}</td>
			                	    <td>{{v.destino}}</td>
			                	    <td>{{v.descripcion}}</td>
			                	    <td>{{v.precio|currency: $}}</td>
			                	    <td>{{v.veh}}</td>
			                	    <td>{{v.acom?"si":"no"}}</td>
			        	            <td>
				                        <div class="btn-group" role="group" aria-label="Basic example">
				                            <button type="button" class="btn btn-primary " data-toggle="modal" data-target="#mdl3" data-title="Modificar Viaje" data-id={{v.id}} data-fecha={{v.fecha}} data-chofer={{v.codChof}} data-peso={{v.peso}} data-origen={{v.origen}} data-destino={{v.destino}} data-descripcion={{v.descripcion}} data-precio={{v.precio}} data-veh={{v.veh}} data-acom={{v.acom}} ng-click="llenarModalViaje">editar</button>
				                            <button type="button" class="btn btn-alert alert-danger">eliminar</button>
	
				                        </div>
				                    </td>
				                </tr>
	
			        	    </tbody>
			        	</table>
					    <!-- Paginador-->
					    <div class="col-sm-12">
					        <div class="row bg-light">
					            <div class="col-sm-3">
        					        <span class="label label-default font-weight-bold">Registros: {{RegistrosTotal}}</span>
        					    </div>
        					    <div class="col-sm-6 text-center">
                                     aqui componente paginador
					            </div>
					        </div>
					    </div>
				</div>
			        <!-- Button trigger modal -->
			        <button type="button" class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#mdl3" data-id=" " data-title="Agregar Viaje">
			            Agregar Viaje
			        </button>

			        <!-- Modal -->
			        <div class="modal fade" id="mdl3" tabindex="-1" role="dialog" aria-labelledby="agregarViaje" aria-hidden="true" data-backdrop="static">
			            <div class="modal-dialog" role="document">
			                <div class="modal-content">
			                    <div class="modal-header">
			                        <h5 class="modal-title" id="modalForm"></h5>
			                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			                            <span aria-hidden="true">&times;</span>
			                        </button>
			                    </div>
			                    <div class="modal-body">
			                        <form name="frmViaje" action="" method="post" novalidate>
			                            <div class="row">
			                                <div class="col">
			                                    <div class="input-group mb-3">
			                                        <div class="input-group-prepend">
			                                            <span class="input-group-text" id="inputGroup-sizing-default">Fecha</span>
			                                        </div>
			                                        <input id="btnfecha" type="text" placeholder="dd/mm/aaaa" class="form-control text-uppercase" aria-label="Default" aria-describedby="inputGroup-sizing-default" name="frmFecha" ng-model="viajes.fecha" maxlength="10" required />
       				                             </div>
       				                         </div>
      				                      </div>
     			                       	      <div class="row">
                			                <div class="col">
                			                    <div class="input-group mb-3">
                                			        <div class="input-group-prepend">
                                			            <span class="input-group-text" id="inputGroup-sizing-default">Chofer</span>
                                			        </div>
                                                    <div class="comboChoferes">
			                                                    		<div class="combo-head">
				                                                    		<span class="spanChoferes">Elige algun Chofer: </span>
					                                                    	<select id="btnchof" class="form-control" name="select" ng-model="viajes.codChof" required>
					                                                           	  <option value="" selected></option> 
						                                                          <option ng-repeat="c in choferes" value={{c.id}}>{{c.apellido}} {{c.nombre}}</option>
					                                                    	</select>
				                                                    	</div>
			                                        </div>
<!--                                			        <input id="btnchof" type="number" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" ng-model="viajes.codChof" required />-->

                                			    </div>
                               				 </div>
                           			      </div>
                            			      <div class="row">
                      				          <div class="col">
                        			            <div class="input-group mb-3">
                        			                <div class="input-group-prepend">
                        			                    <span class="input-group-text" id="inputGroup-sizing-default">Peso (kg)</span>
                                			        </div>
                                			        <input id="btnpeso" type="number" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" ng-model="viajes.peso" required />
                                			    </div>
                              				  </div>
                           			       </div>

			                               <div class="row">
                           				     <div class="col">
                           				         <div class="input-group mb-3">
                           				             <div class="input-group-prepend">
                           				                 <span class="input-group-text" id="inputGroup-sizing-default">Origen</span>
                           				             </div>
                                				     <input id="btnorigen" type="text" class="form-control text-uppercase" aria-label="Default" aria-describedby="inputGroup-sizing-default" ng-model="viajes.origen" required />
                     				                 </div>
                        			             </div>
                   			               </div>
                        			       <div class="row">
                   				             <div class="col">
                        				            <div class="input-group mb-3">
                                				        <div class="input-group-prepend">
                                				            <span class="input-group-text" id="inputGroup-sizing-default">Destino</span>
                                				        </div>
                                				        <input id="btndestino" type="text" class="form-control text-uppercase" aria-label="Default" aria-describedby="inputGroup-sizing-default" ng-model="viajes.destino" required />
                                				    </div>
                              				     </div>
                            				</div>
                            				<div class="row">
                                				<div class="col">
                                				    <div class="input-group mb-3">
                                				        <div class="input-group-prepend">
                                				            <span class="input-group-text" id="inputGroup-sizing-default">Descripcion</span>
                                				        </div>
                                				        <input id="btndescripcion" type="text" class="form-control text-uppercase" aria-label="Default" aria-describedby="inputGroup-sizing-default">
                                				    </div>
				                                </div>
                				        </div>

			                                <div class="row">
                          				      <div class="col">
                                				    <div class="input-group mb-3">
                                				        <div class="input-group-prepend">
                                				            <span class="input-group-text" id="inputGroup-sizing-default">Precio ($)</span>
                                				        </div>
                                				        <input id="btnprecio" type="number" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" ng-model="viajes.precio" required />
                                				    </div>
                              				      </div>
                            				</div>
                            				<div class="row">
                            				    <div class="col">
                            				        <div class="input-group mb-3">
                                				        <div class="input-group-prepend">
                                				            <span class="input-group-text" id="inputGroup-sizing-default">Vehiculo</span>
                                				        </div>
                                				        <input id="btnveh" type="text" class="form-control text-uppercase" aria-label="Default" aria-describedby="inputGroup-sizing-default" ng-model="viajes.veh" required />
                               				        </div>
                           				     </div>
                            				</div>
                            				<div class="row">
                      				          <div class="col">
                        			            <div class="input-group mb-3">
                        			                <div class="input-group-prepend">
                        			                    <span class="input-group-text" id="inputGroup-sizing-default">Acompaniante</span>
                        			                </div>
								<div class="btn-group btn-group-toggle" data-toggle="buttons">
								  <label class="btn btn-secondary active">
								    <input type="radio" name="options" id="option1" autocomplete="off" checked> Sin
								  </label>
								  <label class="btn btn-secondary">
								    <input type="radio" name="options" id="option2" autocomplete="off"> Con
								  </label>
						        	</div>
                            			           </div>
                            			        </div>
                       				      </div>
                     				   </form>
			                        <div class="modal-footer">
                				        <button type="button" class="btn btn-danger" ng-click="LimpiarForm()" data-dismiss="modal" >Cerrar</button>
                				        <button type="button" class="btn btn-primary" ng-disabled="frmViaje.$invalid" ng-click="LimpiarForm()"> Enviar</button>
                			        </div>
            				    </div>
            				</div>
      				      </div>
				</div>






 			   </div>
				<div class="container-fluid" id="choferesGrilla" ng-show="AccionABM=='CH'">
					<div class="jumbotron jumbotron-fluid">
  						<div class="container">
  						  <h1 class="display-4">Grilla de choferes</h1>
						  <hr/>
 						</div>
					</div>
					<table class="table table-striped">
					  <thead>
					    	<tr>
		      					<th scope="col">#</th>
		      					<th scope="col">Nombre</th>
		      					<th scope="col">Apellido</th>
		      					<th scope="col">Cuit</th>
			
					    	</tr>
      				 	 </thead>
   					 <tbody ng-repeat="c in choferes">
    						<tr>
      							<th >{{c.id}}</th>
      							<td>{{c.nombre}}</td>
      							<td>{{c.apellido}}</td>
							<td>{{c.cuit}}</td>
					    	</tr>
 					 </tbody>
					</table>
				</div>
				<div class="container-fluid text-center" id="contacto" ng-show="AccionABM=='C'">
					<div class="jumbotron jumbotron-fluid">
  						<div class="container">
  						  <h1 class="display-4">Contacto</h1>
						  <hr/>
 						</div>
					</div>
					<div class="row">
						<div class="col-4"></div>
						<div class="col-4">
							<div class="card text-center" style="width: 18rem; ">
							  <img class="card-img-top" src="imagenes/egeoLogo.jpg" alt="Card image cap">
							  <div class="card-body">
							    <h5 class="card-title">Nuestro Contacto</h5>
							  </div>
							  <ul class="list-group list-group-flush">
							    <li class="list-group-item">Direccion: Bulnes 123</li>
							    <li class="list-group-item">Telefono: 1234567</li>
							    <li class="list-group-item">Email: egeo@egeo.com.ar</li>
							  </ul>
							  <div class="card-body">
							    <a href="#" class="card-link">Nuestra Pagina de Facebook</a>	
						 	 </div>
						</div>
					</div>
				</div>
	</div>
		
	</div>
</body>
</html>